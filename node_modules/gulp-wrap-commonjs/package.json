{
  "name": "gulp-wrap-commonjs",
  "description": "Wrap files into a CommonJS module definition compatible with the Node.js require() API.",
  "url": "https://github.com/efacilitation/gulp-wrap-commonjs",
  "author": {
    "name": "efa Gmbh",
    "email": "team@efa-gmbh.com"
  },
  "version": "0.1.13",
  "license": "MIT",
  "main": "index.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/efacilitation/gulp-wrap-commonjs.git"
  },
  "bugs": {
    "url": "https://github.com/efacilitation/gulp-wrap-commonjs/issues"
  },
  "keywords": [
    "gulp",
    "gulpplugin",
    "cjs",
    "commonjs",
    "wrapper",
    "wrap"
  ],
  "scripts": {
    "test": "mocha",
    "prepublish": "coffee -c index.coffee",
    "postinstall": "coffee -c index.coffee"
  },
  "dependencies": {
    "lodash": "*",
    "gulp-util": "*",
    "through2": "*",
    "coffee-script": "~1.7.1"
  },
  "devDependencies": {
    "mocha": "*",
    "expect": "*",
    "coffee-script": "~1.7.1"
  },
  "gitHead": "158b924b88c8379b13fecdd5428b4ccb0bc2cec2",
  "readme": "## Information\n\n<table>\n<tr>\n<td>Package</td><td>gulp-wrap-commonjs</td>\n</tr>\n<tr>\n<td>Description</td>\n<td>Wrap files into a CommonJS module definition compatible with the Node.js require() API.</td>\n</tr>\n</table>\n\n## Usage\n\nFirst, install `gulp-wrap-commonjs` as a development dependency:\n\n```shell\nnpm install --save-dev gulp-wrap-commonjs\n```\n\nThen, add it to your `gulpfile.js`:\n\n```javascript\nvar wrapCommonjs = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.js'])\n    .pipe(wrapCommonjs())\n    .pipe(gulp.dest('build/'));\n});\n```\n\nWorks with JavaScript- and CoffeeScript-Files.\n\n\n\n### CommonJS Require\n\nYou need a `require.register` function in the scope where you add the wrapped files. It's recommended to use [commonjs-require](https://github.com/efacilitation/commonjs-require) for this purpose.\n\n\n## API\n\n### commonjsWrap(options)\n\n#### options.autoRequire\nType: `Boolean`\nDefault: `false`\n\nWhether to append a require() on the `filepath` directly after the wrap.\n\nExample:\n\n```javascript\nvar commonjsWrap = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.js'])\n    .pipe(commonjsWrap({\n      autoRequire: true\n    }))\n    .pipe(gulp.dest('build/'));\n});\n```\n\n#### options.relativePath\nType: `String`\nDefault: `false`\n\nAllows you to set a base directory, which will allow modules to use relative\npaths.\n\nExample:\n\n```javascript\nvar commonjsWrap = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.js'])\n    .pipe(commonjsWrap({\n      relativePath: 'lib'\n    }))\n    .pipe(gulp.dest('build/'));\n});\n\n```\n\nproduces modules that look like:\n\n```js\nrequire.register(\"module.js\", function(exports, require, module){\n```\n\ninstead of\n\n```js\nrequire.register(\"/path/to/project/lib/module.js\", function(exports, require, module){\n```\n\n#### options.pathModifier\nType: `Function`\nDefault: `false`\n\nAllows you to set a function in which you can modify the filepath.\n\nExample:\n\n```javascript\nvar commonjsWrap = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.js'])\n    .pipe(commonjsWrap({\n      pathModifier: function (path) {\n        path = path.replace /.js$/, ''\n        return path\n      }\n    }))\n    .pipe(gulp.dest('build/'));\n});\n```\n\n\n\n#### options.moduleExports\nType: `Function` or `String`\nDefault: `null`\n\nAllows you to set a `module.exports` at the end of the `content`\n\nExample using Jade:\n\n```javascript\nvar wrapCommonjs = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.jade'])\n    .pipe(wrapCommonjs({moduleExports: \"template\"}))\n    .pipe(gulp.dest('build/'));\n});\n```\n\nWhen passed in a function the value of `module.exports` can be determined dynamically.\nWhen used the path of each processed file is passed as argument to the function.\nIf the function returns `null` or `undefined` no `module.exports` will be set.\n\n```javascript\nvar wrapCommonjs = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.jade'])\n    .pipe(wrapCommonjs({\n      moduleExports: function(path) {\n        if (path.indexOf('some-module') > 0) {\n          return 'someExports';\n        }\n      }\n    }))\n    .pipe(gulp.dest('build/'));\n});\n```\n\n#### options.coffee\nType: `Boolean`\nDefault: `false`\n\nForce wrapping into CoffeeScript. By default this will get set by detecting the file-extension `.coffee`.\n\nExample:\n\n```javascript\nvar wrapCommonjs = require('gulp-wrap-commonjs');\n\ngulp.task('commonjs', function(){\n  gulp.src(['lib/*.txt'])\n    .pipe(wrapCommonjs({coffee: true}))\n    .pipe(gulp.dest('build/'));\n});\n```\n\n\n## License\n\nMIT\n\nCopyright (c) 2014 efa GmbH (http://efa-gmbh.com/)\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/efacilitation/gulp-wrap-commonjs",
  "_id": "gulp-wrap-commonjs@0.1.13",
  "_shasum": "6c25e326b0d062975d19d8f46510c5505a39ef87",
  "_from": "git://github.com/jacobthemyth/gulp-wrap-commonjs.git",
  "_resolved": "git://github.com/jacobthemyth/gulp-wrap-commonjs.git#158b924b88c8379b13fecdd5428b4ccb0bc2cec2",
  "_fromGithub": true
}
